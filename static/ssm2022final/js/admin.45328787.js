(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{b6a5:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["g"])("h1",null,"Admin",-1),c=Object(r["g"])("p",null,"Jag hoppas det enda du ville göra var att skicka announcements, för det är det enda som stödjs :P",-1),o=Object(r["g"])("h1",null,"Admin",-1),s=Object(r["g"])("h2",null,"Nice try",-1);function u(e,t,n,u,m,i){var d=Object(r["D"])("RemoteForm");return e.$store.state.user&&e.$store.state.user.permissions.length?(Object(r["v"])(),Object(r["f"])(r["a"],{key:0},[a,c,Object(r["j"])(d,{form:m.announceForm||e.$store.state.forms.announce,"button-text":"Announce",onSubmit:i.announce},null,8,["form","onSubmit"])],64)):(Object(r["v"])(),Object(r["f"])(r["a"],{key:1},[o,s],64))}var m=n("1da1"),i=(n("96cf"),n("cadc")),d=n("c6e1"),l={components:{RemoteForm:i["a"]},data:function(){return{announceForm:null}},methods:{announce:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,d["a"].request("POST","/api/admin/announcement",e);case 2:if(r=n.sent,200===r.status){n.next=6;break}return t.$store.commit("createToast",{type:"error",title:"Backend could not be reached: ".concat(r.status),body:"Please try again."}),n.abrupt("return");case 6:return n.next=8,r.json();case 8:a=n.sent,t.createForm=a.form,a.success&&(t.$store.commit("processAnnouncement",a.announcement),t.$store.commit("createToast",{type:"success",title:"Announcement successfully sent!"}));case 11:case"end":return n.stop()}}),n)})))()}}},b=n("6b0d"),p=n.n(b);const f=p()(l,[["render",u]]);t["default"]=f}}]);
//# sourceMappingURL=admin.45328787.js.map