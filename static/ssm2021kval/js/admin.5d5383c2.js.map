{"version":3,"sources":["webpack:///./src/views/admin.vue","webpack:///./src/views/admin.vue?44ed"],"names":["form","announceForm","$store","state","forms","announce","button_text","components","RemoteForm","data","methods","event","networking","request","r","status","commit","type","title","body","json","createForm","success","announcement","render","__scopeId"],"mappings":"0MACI,eAAc,UAAV,SAAK,G,EACT,eAAwG,SAArG,qGAAiG,G,uIADpG,EACA,EACA,eAA2G,GAA9FA,KAAM,EAAAC,cAAgB,EAAAC,OAAOC,MAAMC,MAAMC,SAAUC,YAAY,WAAY,SAAQ,EAAAD,U,oFAOrF,GACXE,WAAY,CACRC,aAAA,MAEJC,KAJW,WAKP,MAAO,CACHR,aAAc,OAGtBS,QAAS,CACCL,SADD,SACWM,GAAO,gLACHC,EAAA,KAAWC,QAAQ,OAAQ,0BAA2BF,GADnD,UACbG,EADa,OAEF,MAAbA,EAAEC,OAFa,uBAGf,EAAKb,OAAOc,OAAO,cAAe,CAC9BC,KAAM,QACNC,MAAO,iCAAF,OAAmCJ,EAAEC,QAC1CI,KAAM,sBANK,0CAUAL,EAAEM,OAVF,OAUbX,EAVa,OAWnB,EAAKY,WAAaZ,EAAKT,KACnBS,EAAKa,UACL,EAAKpB,OAAOc,OAAO,sBAAuBP,EAAKc,cAC/C,EAAKrB,OAAOc,OAAO,cAAe,CAC9BC,KAAM,UACNC,MAAO,qCAhBI,iDCjB/B,EAAOM,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/admin.5d5383c2.js","sourcesContent":["<template>\n    <h1>Admin</h1>\n    <p>Jag hoppas det enda du ville göra var att skicka announcements, för det är det enda som stödjs :P</p>\n    <RemoteForm :form=\"announceForm || $store.state.forms.announce\" button_text=\"Announce\" @submit=\"announce\"/>\n</template>\n\n<script>\nimport RemoteForm from '@/components/RemoteForm.vue'\nimport networking from '@/networking.js'\n\nexport default {\n    components: {\n        RemoteForm,\n    },\n    data () {\n        return {\n            announceForm: null,\n        }\n    },\n    methods: {\n        async announce (event) {\n            const r = await networking.request('POST', '/api/admin/announcement', event)\n            if (r.status !== 200) {\n                this.$store.commit('createToast', {\n                    type: 'error',\n                    title: `Backend could not be reached: ${r.status}`,\n                    body: 'Please try again.',\n                })\n                return\n            }\n            const data = await r.json()\n            this.createForm = data.form\n            if (data.success) {\n                this.$store.commit('processAnnouncement', data.announcement)\n                this.$store.commit('createToast', {\n                    type: 'success',\n                    title: 'Announcement successfully sent!',\n                })\n            }\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { render } from \"./admin.vue?vue&type=template&id=3cafa5ae&scoped=true\"\nimport script from \"./admin.vue?vue&type=script&lang=js\"\nexport * from \"./admin.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-3cafa5ae\"\n\nexport default script"],"sourceRoot":""}