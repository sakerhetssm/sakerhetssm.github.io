{"version":3,"sources":["webpack:///./src/views/admin.vue","webpack:///./src/views/admin.vue?db95"],"names":["_createElementVNode","_ctx","state","user","permissions","length","_createElementBlock","_Fragment","key","_hoisted_1","_hoisted_2","_createVNode","_component_RemoteForm","form","$data","forms","announce","button-text","onSubmit","$options","_hoisted_3","_hoisted_4","components","RemoteForm","data","announceForm","methods","event","networking","request","r","status","$store","commit","type","title","body","json","createForm","success","announcement","__exports__","render"],"mappings":"gIAEIA,eAAc,UAAV,SAAK,G,EACTA,eAAwG,SAArG,qGAAiG,G,EAQpGA,eAAc,UAAV,SAAK,G,EACTA,eAAiB,UAAb,YAAQ,G,kEAXEC,SAAOC,MAAMC,MAAQF,SAAOC,MAAMC,KAAKC,YAAYC,yBAAnEC,eAQWC,OAAA,CAAAC,OAAA,CAPTC,EACAC,EACAC,eAIEC,EAAA,CAHCC,KAAMC,gBAAgBb,SAAOC,MAAMa,MAAMC,SAC1CC,cAAY,WACXC,SAAQC,YAHX,6BAHF,uBASAb,eAGWC,OAAA,CAAAC,OAAA,CAFTY,EACAC,GAFF,K,oDAUa,GACXC,WAAY,CACRC,mBAEJC,KAJW,WAKP,MAAO,CACHC,aAAc,OAGtBC,QAAS,CACCV,SADD,SACWW,GAAO,gLACHC,OAAWC,QAAQ,OAAQ,0BAA2BF,GADnD,UACbG,EADa,OAEF,MAAbA,EAAEC,OAFa,uBAGf,EAAKC,OAAOC,OAAO,cAAe,CAC9BC,KAAM,QACNC,MAAO,iCAAF,OAAmCL,EAAEC,QAC1CK,KAAM,sBANK,0CAUAN,EAAEO,OAVF,OAUbb,EAVa,OAWnB,EAAKc,WAAad,EAAKX,KACnBW,EAAKe,UACL,EAAKP,OAAOC,OAAO,sBAAuBT,EAAKgB,cAC/C,EAAKR,OAAOC,OAAO,cAAe,CAC9BC,KAAM,UACNC,MAAO,qCAhBI,iD,qBCzB/B,MAAMM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/admin.45328787.js","sourcesContent":["<template>\n  <template v-if=\"$store.state.user && $store.state.user.permissions.length\">\n    <h1>Admin</h1>\n    <p>Jag hoppas det enda du ville göra var att skicka announcements, för det är det enda som stödjs :P</p>\n    <RemoteForm\n      :form=\"announceForm || $store.state.forms.announce\"\n      button-text=\"Announce\"\n      @submit=\"announce\"\n    />\n  </template>\n  <template v-else>\n    <h1>Admin</h1>\n    <h2>Nice try</h2>\n  </template>\n</template>\n\n<script>\nimport RemoteForm from '@/components/RemoteForm.vue'\nimport networking from '@/networking.js'\n\nexport default {\n    components: {\n        RemoteForm,\n    },\n    data () {\n        return {\n            announceForm: null,\n        }\n    },\n    methods: {\n        async announce (event) {\n            const r = await networking.request('POST', '/api/admin/announcement', event)\n            if (r.status !== 200) {\n                this.$store.commit('createToast', {\n                    type: 'error',\n                    title: `Backend could not be reached: ${r.status}`,\n                    body: 'Please try again.',\n                })\n                return\n            }\n            const data = await r.json()\n            this.createForm = data.form\n            if (data.success) {\n                this.$store.commit('processAnnouncement', data.announcement)\n                this.$store.commit('createToast', {\n                    type: 'success',\n                    title: 'Announcement successfully sent!',\n                })\n            }\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { render } from \"./admin.vue?vue&type=template&id=a803843c\"\nimport script from \"./admin.vue?vue&type=script&lang=js\"\nexport * from \"./admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/mati/sync/personal/stuff/watflag/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}